Feature: Log on to the system
  In order to secure the system
  As the system
  I want to protect sensitive transactions and data

  Scenario: Anonymously browsing non-sensitive data
    Given I am not logged in
    When I visit the welcome page
    Then I see the welcome
    And I am not logged in

  Scenario: Anonymously browsing sensitive data
    Given I am not logged in
    When I visit the expenses list page
    Then I see the log in page

  Scenario: Logging in with Twitter
    Given I am not logged in
    And I am on the log in page
    When I choose the Twitter authentication method
    Then I am on the Twitter log in page

  Scenario: Logging in with Facebook
    Given I am not logged in
    And I am on the log in page
    When I choose the Facebook authentication method
    Then I am on the Facebook log in page

  Scenario: Logging out
    Given I am logged in
    When I log out
    Then I am no longer logged in

  Scenario: Elevating a user to a shareholder
    Given I am logged in as an administrator
    And there is a non-shareholder user
    When I elevate the user to a shareholder
    And allocate the user a shareholding_percent
    Then the user has become a shareholder
    
  Scenario: Administrator can see the list of users
    Given I am logged in as an administrator
    And some users exist
    When I visit the list of users
    Then I see all users
    
  Scenario: Non-administrator cannot see the list of users
    Given I am logged in as a non-administrator
    And some users exist
    When I visit the list of users
    Then I see that access is denied

